{% extends 'base.html' %}
{% block content %}
  <div class="container mt-4">
    <h2 class="mb-4">Daftar Anak</h2>
    <a class="btn btn-sm btn-success mb-2" href="{{ url_for('add_child') }}">+ Tambah Anak</a>
    
    <div class="table-responsive">
      <table class="table table-hover">
        <thead class="table-light">
          <tr>
            <th>Nama</th>
            <th>Tanggal Lahir</th>
            <th>Jenis Kelamin</th>
            <th>Aksi</th>
          </tr>
        </thead>
        <tbody>
          {% for c in children %}
          <tr>
            <td><strong>{{ c['name'] }}</strong></td>
            <td>{{ c['dob'] }}</td>
            <td>{{ c['gender'] }}</td>
            <td>
              <a href="{{ url_for('growth_list', child_id=c['id']) }}" class="btn btn-sm btn-info">Pertumbuhan</a>
              <a href="{{ url_for('milestone_list', child_id=c['id']) }}" class="btn btn-sm btn-info">Milestone</a>
              <a href="{{ url_for('immunization_list', child_id=c['id']) }}" class="btn btn-sm btn-info">Imunisasi</a>
              <a href="{{ url_for('edit_child', child_id=c['id']) }}" class="btn btn-sm btn-warning">Edit</a>
              <form method="POST" action="{{ url_for('delete_child', child_id=c['id']) }}" style="display:inline;" onsubmit="return confirm('Yakin hapus data anak ini? Data pertumbuhan, milestone, dan imunisasi juga akan dihapus.');">
                <button type="submit" class="btn btn-sm btn-danger">Hapus</button>
              </form>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="4" class="text-center text-muted">Belum ada data anak. <a href="{{ url_for('add_child') }}">Tambah anak sekarang</a></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}

